---
globs: *.css, *.tsx
alwaysApply: false
---

````cursorrules
# Common Patterns & Examples

This file contains code examples and common patterns for reference. It's loaded selectively when needed.

## Animations

### Dedicated Animation Files

For complex animations, create separate files in `styles/animations.css`:

```css
/* styles/animations.css */
@keyframes modal-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes modal-slide-up {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.modal-enter {
  animation: modal-fade-in var(--run) var(--fadein);
}

.modal-content-enter {
  animation: modal-slide-up var(--run) var(--fadein);
}
```

Import in app.css:

```css
/* styles/app.css */
@import './animations.css';
@import './variables.css';
@import './globals.css';
@import './workshop.css';
/* ... other feature CSS files */
```

## Layout Containers

**NOTE:** These common classNames (`.container`, `.section`, `.grid`) are examples of global utility components. **LLMs should NOT create these** - ONLY humans should decide to create highly reusable global components. If these exist in your codebase, you can use them, but don't create new ones like this.

```css
.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--padding);
}

.section {
  padding: calc(var(--padding) * 2) 0;
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--padding);
}
```

## Responsive Design

```css
.card {
  display: flex;
  flex-direction: column;
  padding: var(--padding);
}

@media (max-width: 768px) {
  .card {
    padding: calc(var(--padding) / 2);
  }
}
```

## Interactive Elements

```css
.link {
  color: var(--color-primary);
  text-decoration: none;
  transition: color var(--run) var(--fadein);

  &:hover {
    color: var(--color-blue-700);
  }

  &:focus-visible {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
  }
}
```

## Complete Component Example: Modal

**Component:**

```tsx
// Modal.tsx
import cn from 'clsx';

export default function Modal({ isOpen, onClose, children }) {
  return (
    <div className={cn('modal', { open: isOpen })}>
      <div className={cn('modal-backdrop', { visible: isOpen })} onClick={onClose} />
      <div className="modal-content">
        <button className="modal-close" onClick={onClose}>
          Ã—
        </button>
        <div className="modal-body">{children}</div>
      </div>
    </div>
  );
}
```

**CSS (in workshop.css for NEW components):**

```css
/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 *                            COMPONENT: Modal                               *
 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */

.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.3s;

  &.open {
    pointer-events: all;
    opacity: 1;
  }
}

.modal-backdrop {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0);
  transition: background 0.3s;

  &.visible {
    background: rgba(0, 0, 0, 0.5);
  }
}

.modal-content {
  position: relative;
  width: 90%;
  max-width: 600px;
  padding: var(--padding);
  background: var(--background);
  border: var(--border);
  border-radius: calc(var(--border-radius) * 2);
  transform: translateY(20px);
  transition: transform 0.3s;
}

.modal.open .modal-content {
  transform: translateY(0);
}

.modal-close {
  position: absolute;
  top: var(--padding);
  right: var(--padding);
  width: 32px;
  height: 32px;
  background: transparent;
  border: none;
  font-size: 24px;
  color: var(--font-color);
  cursor: pointer;
  transition: opacity var(--run) var(--fadein);

  &:hover {
    opacity: 0.7;
  }
}

.modal-body {
  color: var(--font-color);
}

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 *                               END Modal                                   *
 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
```

## Complete Component Example: Button

**Component:**

```tsx
// Button.tsx
import cn from 'clsx';

export default function Button({ variant, size, disabled, children, onClick }) {
  return (
    <button
      className={cn(
        'button',
        variant && `button-${variant}`,
        size && `button-${size}`,
        { disabled }
      )}
      onClick={onClick}
      disabled={disabled}
    >
      <span className="button-content">{children}</span>
    </button>
  );
}
```

**CSS (in workshop.css for NEW components):**

```css
/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 *                            COMPONENT: Button                              *
 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */

.button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: calc(var(--xxs) * 2) var(--padding);
  background: var(--color-blue-500);
  border: none;
  border-radius: var(--border-radius);
  cursor: pointer;
  transition: all var(--run) var(--fadein);

  &:hover {
    background: var(--color-blue-600);
  }

  &.primary {
    background: var(--color-blue-500);

    &:hover {
      background: var(--color-blue-600);
    }
  }

  &.secondary {
    background: var(--color-neutral-700);

    &:hover {
      background: var(--color-neutral-600);
    }
  }

  &.small {
    padding: var(--xxs) calc(var(--padding) / 2);
    font-size: var(--font-tiny);
  }

  &.large {
    padding: var(--padding) calc(var(--padding) * 2);
    font-size: calc(var(--font-size) * 1.125);
  }

  &.disabled {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
  }
}

.button-content {
  font-weight: 500;
  color: var(--color-white);
}

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 *                               END Button                                  *
 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
```

## State Management Example

**Container-based state with cascading:**

```tsx
// Sidebar.tsx
import cn from 'clsx';

export default function Sidebar({ isOpen, items }) {
  return (
    <aside className={cn('sidebar', { closed: !isOpen })}>
      <div className="sidebar-header">
        <h2 className="sidebar-title">Menu</h2>
      </div>
      <nav className="sidebar-nav">
        <ul className="sidebar-nav-list">
          {items.map((item) => (
            <li key={item.id} className="sidebar-nav-item">
              <a href={item.url} className={cn('sidebar-nav-link', { active: item.active })}>
                {item.name}
              </a>
            </li>
          ))}
        </ul>
      </nav>
    </aside>
  );
}
```

```css
.sidebar {
  width: 280px;
  transform: translateX(0);
  transition: transform 0.3s;

  &.closed {
    transform: translateX(-280px);
  }

  &.closed .sidebar-nav-link {
    opacity: 0;
    pointer-events: none;
  }
}
```

## Component-Scoped Variables Example

```tsx
// ProgressBar.tsx
export default function ProgressBar({ progress, color }) {
  return (
    <div className="progress-bar">
      <div
        className="progress-bar-fill"
        style={{
          '--progress-width': `${progress}%`,
          '--progress-color': color,
        } as React.CSSProperties}
      />
    </div>
  );
}
```

```css
.progress-bar {
  --progress-width: 0%;
  --progress-color: var(--color-primary);

  width: 100%;
  height: 8px;
  background: var(--color-neutral-800);
  border-radius: var(--border-radius);
}

.progress-bar-fill {
  width: var(--progress-width);
  height: 100%;
  background: var(--progress-color);
  border-radius: var(--border-radius);
  transition: width var(--run) var(--fadein);
}
```

## Form Input with Pseudo-Selectors

This is a rare case where 3-level nesting is justified:

```css
.checkbox-wrapper {
  display: inline-block;
}

.checkbox-input {
  position: absolute;
  opacity: 0;
  width: 0;
  height: 0;

  /* Justified 3-level nesting for complex pseudo-selector targeting */
  &:checked {
    + .checkbox-label {
      .checkbox-custom {
        background: var(--color-blue-500);
        border-color: var(--color-blue-500);
      }
    }
  }

  &:focus {
    + .checkbox-label {
      .checkbox-custom {
        box-shadow: 0 0 0 3px rgba(0, 112, 243, 0.1);
      }
    }
  }
}

.checkbox-label {
  display: flex;
  align-items: center;
  cursor: pointer;
}

.checkbox-custom {
  width: 20px;
  height: 20px;
  margin-right: var(--xxs);
  border: 2px solid var(--color-neutral-700);
  border-radius: calc(var(--border-radius) / 2);
  transition: all var(--run) var(--fadein);
}

.checkbox-text {
  font-size: var(--font-size);
  color: var(--font-color);
}
```
````
